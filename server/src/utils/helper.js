import jwt from "jsonwebtoken";
import {GoogleGenerativeAI} from "@google/generative-ai"

import dotenv from "dotenv";

dotenv.config()

//: GEMINI
const genAI = new GoogleGenerativeAI(process.env.GEMINI_API_KEY);
const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
});
const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 1048576,
    responseMimeType: "application/json",
};

export async function genarateJWT(payload){
    return await jwt.sign(payload, process.env.JWT_KEY, {
        expiresIn: '1d',
        algorithm: 'HS256',
    });
}

export async function searchImage(placeName) {
    // Step 1: Get the place details using the Place Text Search API
    const textSearchUrl = `https://maps.googleapis.com/maps/api/place/textsearch/json?key=${process.env.GOOGLE_IMAGES_API}&query=${encodeURIComponent(placeName)}&fields=photos`;

    const textSearchResponse = await fetch(textSearchUrl);
    const textSearchData = await textSearchResponse.json();

    if(textSearchData.status === 'ZERO_RESULTS') return 'https://via.assets.so/img.jpg?w=400&h=400'
    if (textSearchData.status !== 'OK') {
        throw new Error('Error fetching place details');
    }

    let photoReference = textSearchData.results[0].photos;
    if(!photoReference){
        return 'https://via.assets.so/img.jpg?w=400&h=400'
    }

    photoReference = textSearchData.results[0].photos[0].photo_reference

    // Step 2: Get the place photo using the Place Photos API
    return `https://maps.googleapis.com/maps/api/place/photo?maxwidth=400&photo_reference=${photoReference}&key=${process.env.GOOGLE_IMAGES_API}`;
}

export async function genarateTripPlan({from, to, numDays, numPeople, tripWith, budgetType}) {
    const prompt = `Generate Travel Plan for Location: From ${from} To ${to}, for ${numDays} Days. For ${tripWith} of ${numPeople} people with ${budgetType} budget with Both Bus details, Bus Price and Flight details, Flight Price including Booking URL, Hotels option list with Hotel Name, Hotel address, Hotel Price, Geo Coordinates, rating ,descriptions and Places to visit nearby with placeName, Place Details, Geo Coordinates, ticket Pricing, cordinatTime to travel each of the location for 1 day and 1 night with each day plan with best time to visit and Geo Coordinates in JSON FORMAT(use @google map @google hotels @google flights and provide accurate info and well structured provide) `;
    const parts = [
        {text: "input: Generate Travel Plan for Location: From Vijayawada To Mumbai, for 5 Days. For Family of 5 people with cheap budget with Both Bus details, Bus Price and Flight details, Flight Price including Booking URL, Hotels option list with Hotel Name, Hotel address, Hotel Price, Geo Coordinates, rating ,descriptions and Places to visit nearby with placeName, Place Details, Geo Coordinates, ticket Pricing, cordinatTime to travel each of the location for 1 day and 1 night with each day plan with best time to visit and Geo Coordinates in JSON FORMAT(use @google map @google hotels @google flights and provide accurate info and well structured provide)"},
        {text: "output: {\"travelPlan\": {\"from\": \"Vijayawada\", \"to\": \"Mumbai\", \"duration\": 5, \"travelers\": 5, \"budget\": \"cheap\", \"transportation\": [{\"mode\": \"Bus\", \"details\": \"Multiple bus operators offer routes from Vijayawada to Mumbai. You can find options on platforms like RedBus.in, MakeMyTrip, and AbhiBus. The journey can take around 20-24 hours depending on the route and bus type.\", \"price\": \"INR 1000-1500 per person (approx)\", \"bookingURL\": \"https://www.redbus.in/\"}, {\"mode\": \"Flight\", \"details\": \"Multiple airlines operate flights between Vijayawada (VGA) and Mumbai (BOM). You can find flight options and prices on platforms like MakeMyTrip, Goibibo, and Skyscanner.\", \"price\": \"INR 3000-5000 per person (approx)\", \"bookingURL\": \"https://www.makemytrip.com/flights/\"}], \"hotels\": [{\"name\": \"Hotel Sun N Sand\", \"address\": \"Juhu Beach, Mumbai, Maharashtra 400049\", \"price\": \"INR 3000-5000 per night\", \"geoCoordinates\": \"19.0678, 72.8356\", \"rating\": \"4.0\", \"description\": \"A popular choice for its beachside location and comfortable rooms.\", \"placesNearby\": [{\"name\": \"Juhu Beach\", \"details\": \"A famous beach with street food stalls and scenic views.\", \"geoCoordinates\": \"19.0676, 72.8351\", \"ticketPricing\": \"Free\", \"coordinateTime\": \"1-2 hours\"}, {\"name\": \"Prithvi Theatre\", \"details\": \"A renowned theatre hosting plays and performances.\", \"geoCoordinates\": \"19.0631, 72.8318\", \"ticketPricing\": \"INR 200-500\", \"coordinateTime\": \"2-3 hours\"}]}, {\"name\": \"The Leela Palace Mumbai\", \"address\": \"Sahar Airport Rd, Andheri East, Mumbai, Maharashtra 400099\", \"price\": \"INR 8000-12000 per night\", \"geoCoordinates\": \"19.0878, 72.8681\", \"rating\": \"4.5\", \"description\": \"A luxurious hotel with excellent amenities and service.\", \"placesNearby\": [{\"name\": \"Andheri Market\", \"details\": \"A bustling market offering a variety of goods.\", \"geoCoordinates\": \"19.0898, 72.8692\", \"ticketPricing\": \"Free\", \"coordinateTime\": \"2-3 hours\"}, {\"name\": \"Nehru Planetarium\", \"details\": \"A popular science center with educational shows and exhibits.\", \"geoCoordinates\": \"19.0776, 72.8667\", \"ticketPricing\": \"INR 50-100\", \"coordinateTime\": \"2-3 hours\"}]}, {\"name\": \"Hotel Sea Princess\", \"address\": \"Juhu Beach, Juhu Tara Rd, Juhu, Mumbai, Maharashtra 400049\", \"price\": \"INR 2000-4000 per night\", \"geoCoordinates\": \"19.0689, 72.8348\", \"rating\": \"3.5\", \"description\": \"A budget-friendly option close to Juhu Beach.\", \"placesNearby\": [{\"name\": \"Juhu Beach\", \"details\": \"A famous beach with street food stalls and scenic views.\", \"geoCoordinates\": \"19.0676, 72.8351\", \"ticketPricing\": \"Free\", \"coordinateTime\": \"1-2 hours\"}, {\"name\": \"ISKCON Temple\", \"details\": \"A prominent temple dedicated to Lord Krishna.\", \"geoCoordinates\": \"19.0624, 72.8375\", \"ticketPricing\": \"Free\", \"coordinateTime\": \"1-2 hours\"}]}], \"dailyPlan\": [{\"day\": 1, \"time\": \"Morning (9:00 AM - 12:00 PM)\", \"location\": \"Gateway of India\", \"details\": \"Visit the iconic Gateway of India, a historical arch built in 1924. Take a ferry ride to Elephanta Caves.\", \"geoCoordinates\": \"18.9220, 72.8347\"}, {\"day\": 1, \"time\": \"Afternoon (1:00 PM - 4:00 PM)\", \"location\": \"Elephanta Caves\", \"details\": \"Explore the ancient rock-cut cave temples, a UNESCO World Heritage Site.\", \"geoCoordinates\": \"18.9851, 72.9029\"}, {\"day\": 1, \"time\": \"Evening (5:00 PM - 8:00 PM)\", \"location\": \"Marine Drive\", \"details\": \"Enjoy a scenic walk along Marine Drive, the 'Queen's Necklace', offering stunning views of the Arabian Sea.\", \"geoCoordinates\": \"18.9387, 72.8327\"}, {\"day\": 2, \"time\": \"Morning (9:00 AM - 12:00 PM)\", \"location\": \"Chhatrapati Shivaji Maharaj Terminus (CST)\", \"details\": \"Explore the historic train station, a UNESCO World Heritage Site, with its impressive Victorian Gothic architecture.\", \"geoCoordinates\": \"18.9435, 72.8417\"}, {\"day\": 2, \"time\": \"Afternoon (1:00 PM - 4:00 PM)\", \"location\": \"Dhobi Ghat\", \"details\": \"Witness the unique open-air laundry facility, a sight to behold.\", \"geoCoordinates\": \"18.9531, 72.8400\"}, {\"day\": 2, \"time\": \"Evening (5:00 PM - 8:00 PM)\", \"location\": \"Mani Bhavan\", \"details\": \"Visit the house where Mahatma Gandhi lived during his stay in Mumbai.\", \"geoCoordinates\": \"18.9355, 72.8366\"}, {\"day\": 3, \"time\": \"Morning (9:00 AM - 12:00 PM)\", \"location\": \"Kanheri Caves\", \"details\": \"Explore the ancient Buddhist cave temples in Sanjay Gandhi National Park.\", \"geoCoordinates\": \"19.1666, 72.9255\"}, {\"day\": 3, \"time\": \"Afternoon (1:00 PM - 4:00 PM)\", \"location\": \"Sanjay Gandhi National Park\", \"details\": \"Enjoy a nature walk or take a jeep safari in the park.\", \"geoCoordinates\": \"19.1726, 72.9242\"}, {\"day\": 3, \"time\": \"Evening (5:00 PM - 8:00 PM)\", \"location\": \"Bandra-Worli Sea Link\", \"details\": \"Drive or walk across the iconic bridge, offering breathtaking views of the city.\", \"geoCoordinates\": \"19.0477, 72.8352\"}, {\"day\": 4, \"time\": \"Morning (9:00 AM - 12:00 PM)\", \"location\": \"Shree Siddhivinayak Temple\", \"details\": \"Visit the popular Hindu temple dedicated to Lord Ganesha.\", \"geoCoordinates\": \"19.0285, 72.8554\"}, {\"day\": 4, \"time\": \"Afternoon (1:00 PM - 4:00 PM)\", \"location\": \"Haji Ali Dargah\", \"details\": \"Explore the mosque located on an islet in the Arabian Sea, accessible during low tide.\", \"geoCoordinates\": \"18.9930, 72.8286\"}, {\"day\": 4, \"time\": \"Evening (5:00 PM - 8:00 PM)\", \"location\": \"Juhu Beach\", \"details\": \"Enjoy the sunset and relax on the beach.\", \"geoCoordinates\": \"19.0676, 72.8351\"}, {\"day\": 5, \"time\": \"Morning (9:00 AM - 12:00 PM)\", \"location\": \"National Gallery of Modern Art\", \"details\": \"Explore the gallery showcasing modern and contemporary Indian art.\", \"geoCoordinates\": \"19.0637, 72.8391\"}, {\"day\": 5, \"time\": \"Afternoon (1:00 PM - 4:00 PM)\", \"location\": \"Chhatrapati Shivaji Maharaj Vastu Sangrahalaya\", \"details\": \"Visit the museum showcasing artifacts and exhibits related to Indian art and culture.\", \"geoCoordinates\": \"18.9463, 72.8380\"}, {\"day\": 5, \"time\": \"Evening (5:00 PM - 8:00 PM)\", \"location\": \"Colaba Causeway\", \"details\": \"Explore the bustling street market offering a variety of goods, from souvenirs to clothes.\", \"geoCoordinates\": \"18.9256, 72.8348\"}]}}"},
        {text: "input: Generate Travel Plan for Location: From Vadodara To Goa, for 5 Days. For Family of 5 people with cheap budget with Both Bus details, Bus Price and Flight details, Flight Price including Booking URL, Hotels option list with Hotel Name, Hotel address, Hotel Price, Geo Coordinates, rating ,descriptions and Places to visit nearby with placeName, Place Details, Geo Coordinates, ticket Pricing, cordinatTime to travel each of the location for 1 day and 1 night with each day plan with best time to visit and Geo Coordinates in JSON FORMAT(use @google map @google hotels @google flights and provide accurate info and well structured provide)"},
        {text: "output: {\"travelPlan\": {\"from\": \"Vadodara\", \"to\": \"Goa\", \"duration\": 5, \"travelers\": 5, \"budget\": \"cheap\", \"transportation\": [{\"mode\": \"Bus\", \"details\": \"Multiple bus operators offer routes from Vadodara to Goa. You can find options on platforms like RedBus.in, MakeMyTrip, and AbhiBus. The journey can take around 10-12 hours depending on the route and bus type.\", \"price\": \"INR 500-800 per person (approx)\", \"bookingURL\": \"https://www.redbus.in/\"}, {\"mode\": \"Flight\", \"details\": \"Multiple airlines operate flights between Vadodara (BDQ) and Goa (GOI). You can find flight options and prices on platforms like MakeMyTrip, Goibibo, and Skyscanner.\", \"price\": \"INR 2000-3000 per person (approx)\", \"bookingURL\": \"https://www.makemytrip.com/flights/\"}], \"hotels\": [{\"name\": \"The LaLiT Golf & Spa Resort Goa\", \"address\": \"RajBaga, Dona Paula, Goa 403004\", \"price\": \"INR 4000-6000 per night\", \"geoCoordinates\": \"15.4842, 73.8432\", \"rating\": \"4.5\", \"description\": \"A luxurious resort with a golf course, spa, and stunning views of the Arabian Sea.\", \"placesNearby\": [{\"name\": \"Dona Paula Jetty\", \"details\": \"A scenic spot to enjoy views of the sea and the Mandovi River.\", \"geoCoordinates\": \"15.4826, 73.8449\", \"ticketPricing\": \"Free\", \"coordinateTime\": \"1-2 hours\"}, {\"name\": \"Divar Island\", \"details\": \"A charming island with beautiful temples and a laid-back atmosphere.\", \"geoCoordinates\": \"15.4964, 73.8585\", \"ticketPricing\": \"INR 10-20 per person\", \"coordinateTime\": \"3-4 hours\"}]}, {\"name\": \"The Leela Goa\", \"address\": \"Candolim, Bardez, Goa 403515\", \"price\": \"INR 6000-8000 per night\", \"geoCoordinates\": \"15.5043, 73.8177\", \"rating\": \"4.0\", \"description\": \"A popular choice for its luxurious amenities and beachfront location.\", \"placesNearby\": [{\"name\": \"Candolim Beach\", \"details\": \"A bustling beach with water sports, restaurants, and shops.\", \"geoCoordinates\": \"15.5041, 73.8174\", \"ticketPricing\": \"Free\", \"coordinateTime\": \"2-3 hours\"}, {\"name\": \"Calangute Beach\", \"details\": \"A famous beach with vibrant nightlife and numerous restaurants.\", \"geoCoordinates\": \"15.5215, 73.8054\", \"ticketPricing\": \"Free\", \"coordinateTime\": \"3-4 hours\"}]}, {\"name\": \"The Cidade de Goa\", \"address\": \"Vainguinim Beach, Varca, Salcete, Goa 403709\", \"price\": \"INR 3000-5000 per night\", \"geoCoordinates\": \"15.3027, 73.9074\", \"rating\": \"3.5\", \"description\": \"A beachfront hotel offering a peaceful getaway with access to the beach.\", \"placesNearby\": [{\"name\": \"Varca Beach\", \"details\": \"A quiet beach ideal for relaxation and swimming.\", \"geoCoordinates\": \"15.3008, 73.9075\", \"ticketPricing\": \"Free\", \"coordinateTime\": \"2-3 hours\"}, {\"name\": \"Colva Beach\", \"details\": \"A popular beach with a lively atmosphere and numerous restaurants.\", \"geoCoordinates\": \"15.2824, 73.9164\", \"ticketPricing\": \"Free\", \"coordinateTime\": \"3-4 hours\"}]}], \"dailyPlan\": [{\"day\": 1, \"time\": \"Morning (9:00 AM - 12:00 PM)\", \"location\": \"Baga Beach\", \"details\": \"Spend your morning relaxing on Baga Beach, famous for its water sports, vibrant atmosphere, and numerous restaurants.\", \"geoCoordinates\": \"15.5215, 73.8054\"}, {\"day\": 1, \"time\": \"Afternoon (1:00 PM - 4:00 PM)\", \"location\": \"Calangute Beach\", \"details\": \"Enjoy a leisurely walk on Calangute Beach, known for its stunning sunsets and lively nightlife.\", \"geoCoordinates\": \"15.5215, 73.8054\"}, {\"day\": 1, \"time\": \"Evening (5:00 PM - 8:00 PM)\", \"location\": \"Tito's Lane\", \"details\": \"Explore Tito's Lane, a famous nightlife hub with numerous bars and clubs.\", \"geoCoordinates\": \"15.5230, 73.8064\"}, {\"day\": 2, \"time\": \"Morning (9:00 AM - 12:00 PM)\", \"location\": \"Old Goa\", \"details\": \"Visit the historical churches of Old Goa, including the Basilica of Bom Jesus and Se Cathedral.\", \"geoCoordinates\": \"15.4992, 73.8397\"}, {\"day\": 2, \"time\": \"Afternoon (1:00 PM - 4:00 PM)\", \"location\": \"Panjim (Panaji)\", \"details\": \"Explore the charming capital city of Goa, with its Portuguese architecture and vibrant markets.\", \"geoCoordinates\": \"15.4938, 73.8281\"}, {\"day\": 2, \"time\": \"Evening (5:00 PM - 8:00 PM)\", \"location\": \"Miramar Beach\", \"details\": \"Enjoy a peaceful evening on Miramar Beach, a serene beach with beautiful views.\", \"geoCoordinates\": \"15.5007, 73.8328\"}, {\"day\": 3, \"time\": \"Morning (9:00 AM - 12:00 PM)\", \"location\": \"Dudhsagar Falls\", \"details\": \"Take a day trip to Dudhsagar Falls, a magnificent waterfall cascading down a mountain.\", \"geoCoordinates\": \"15.2290, 74.0926\"}, {\"day\": 3, \"time\": \"Afternoon (1:00 PM - 4:00 PM)\", \"location\": \"Spice Plantation\", \"details\": \"Visit a spice plantation and learn about the cultivation of spices in Goa.\", \"geoCoordinates\": \"15.4941, 73.8323\"}, {\"day\": 3, \"time\": \"Evening (5:00 PM - 8:00 PM)\", \"location\": \"Fontainhas\", \"details\": \"Explore the charming Fontainhas district, with its colorful houses and Portuguese heritage.\", \"geoCoordinates\": \"15.4993, 73.8259\"}, {\"day\": 4, \"time\": \"Morning (9:00 AM - 12:00 PM)\", \"location\": \"Palolem Beach\", \"details\": \"Relax on Palolem Beach, known for its pristine sands and tranquil atmosphere.\", \"geoCoordinates\": \"15.1065, 73.9802\"}, {\"day\": 4, \"time\": \"Afternoon (1:00 PM - 4:00 PM)\", \"location\": \"Butterfly Beach\", \"details\": \"Enjoy a scenic boat ride to Butterfly Beach, a hidden gem with beautiful natural surroundings.\", \"geoCoordinates\": \"15.1025, 73.9735\"}, {\"day\": 4, \"time\": \"Evening (5:00 PM - 8:00 PM)\", \"location\": \"Agonda Beach\", \"details\": \"Enjoy a peaceful evening on Agonda Beach, a secluded beach known for its tranquility.\", \"geoCoordinates\": \"15.0927, 73.9784\"}, {\"day\": 5, \"time\": \"Morning (9:00 AM - 12:00 PM)\", \"location\": \"Mandovi River Cruise\", \"details\": \"Take a relaxing cruise on the Mandovi River, enjoying the scenic views and live music.\", \"geoCoordinates\": \"15.4938, 73.8281\"}, {\"day\": 5, \"time\": \"Afternoon (1:00 PM - 4:00 PM)\", \"location\": \"Mapusa Market\", \"details\": \"Explore the bustling Mapusa Market, offering a variety of goods, from fresh produce to handicrafts.\", \"geoCoordinates\": \"15.5201, 73.8079\"}, {\"day\": 5, \"time\": \"Evening (5:00 PM - 8:00 PM)\", \"location\": \"Little Vagator Beach\", \"details\": \"Enjoy a final sunset at Little Vagator Beach, known for its scenic cliffs and rock formations.\", \"geoCoordinates\": \"15.5463, 73.8090\"}]}}"},
        {text: "input: Generate Travel Plan for Location: From Delhi To Chennai, for 3 Days. For Family of 1 people with moderate budget with Both Bus details, Bus Price and Flight details, Flight Price including Booking URL, Hotels option list with Hotel Name, Hotel address, Hotel Price, Geo Coordinates, rating ,descriptions and Places to visit nearby with placeName, Place Details, Geo Coordinates, ticket Pricing, cordinatTime to travel each of the location for 1 day and 1 night with each day plan with best time to visit and Geo Coordinates in JSON FORMAT(use @google map @google hotels @google flights and provide accurate info and well structured provide)"},
        {text: "output: {\"travelPlan\": {\"from\": \"Delhi\", \"to\": \"Chennai\", \"duration\": 3, \"travelers\": 1, \"budget\": \"moderate\", \"transportation\": [{\"mode\": \"Bus\", \"details\": \"Multiple bus operators offer routes from Delhi to Chennai. You can find options on platforms like RedBus.in, MakeMyTrip, and AbhiBus. The journey can take around 30-35 hours depending on the route and bus type.\", \"price\": \"INR 1500-2000 per person (approx)\", \"bookingURL\": \"https://www.redbus.in/\"}, {\"mode\": \"Flight\", \"details\": \"Multiple airlines operate flights between Delhi (DEL) and Chennai (MAA). You can find flight options and prices on platforms like MakeMyTrip, Goibibo, and Skyscanner.\", \"price\": \"INR 4000-6000 per person (approx)\", \"bookingURL\": \"https://www.makemytrip.com/flights/\"}], \"hotels\": [{\"name\": \"The Leela Palace Chennai\", \"address\": \"G.S.T. Road, Chennai, Tamil Nadu 600117\", \"price\": \"INR 8000-12000 per night\", \"geoCoordinates\": \"13.0200, 80.2230\", \"rating\": \"4.5\", \"description\": \"A luxurious hotel with excellent amenities and service.\", \"placesNearby\": [{\"name\": \"Marina Beach\", \"details\": \"A famous beach stretching for 13 km with scenic views.\", \"geoCoordinates\": \"13.0585, 80.2710\", \"ticketPricing\": \"Free\", \"coordinateTime\": \"2-3 hours\"}, {\"name\": \"Kapaleeshwarar Temple\", \"details\": \"A historic Hindu temple with stunning architecture.\", \"geoCoordinates\": \"13.0540, 80.2470\", \"ticketPricing\": \"Free\", \"coordinateTime\": \"1-2 hours\"}]}, {\"name\": \"The Park Chennai\", \"address\": \"159, Anna Salai, Teynampet, Chennai, Tamil Nadu 600018\", \"price\": \"INR 6000-8000 per night\", \"geoCoordinates\": \"13.0570, 80.2460\", \"rating\": \"4.0\", \"description\": \"A stylish hotel in a prime location with modern amenities.\", \"placesNearby\": [{\"name\": \"Government Museum\", \"details\": \"A museum showcasing artifacts and exhibits related to Tamil Nadu's history and culture.\", \"geoCoordinates\": \"13.0540, 80.2460\", \"ticketPricing\": \"INR 50-100\", \"coordinateTime\": \"2-3 hours\"}, {\"name\": \"Fort St. George\", \"details\": \"A historic fort built in 1640, now home to government offices.\", \"geoCoordinates\": \"13.0640, 80.2700\", \"ticketPricing\": \"Free\", \"coordinateTime\": \"1-2 hours\"}]}, {\"name\": \"Taj Coromandel, Chennai\", \"address\": \"132, Anna Salai, Nungambakkam, Chennai, Tamil Nadu 600006\", \"price\": \"INR 5000-7000 per night\", \"geoCoordinates\": \"13.0660, 80.2500\", \"rating\": \"3.5\", \"description\": \"A classic hotel with a prime location and comfortable rooms.\", \"placesNearby\": [{\"name\": \"Anna Salai\", \"details\": \"A bustling shopping street with a variety of stores and restaurants.\", \"geoCoordinates\": \"13.0630, 80.2490\", \"ticketPricing\": \"Free\", \"coordinateTime\": \"2-3 hours\"}, {\"name\": \"Spencer Plaza\", \"details\": \"A shopping mall offering a range of brands and entertainment options.\", \"geoCoordinates\": \"13.0620, 80.2480\", \"ticketPricing\": \"Free\", \"coordinateTime\": \"2-3 hours\"}]}], \"dailyPlan\": [{\"day\": 1, \"time\": \"Morning (9:00 AM - 12:00 PM)\", \"location\": \"Marina Beach\", \"details\": \"Start your day at Marina Beach, one of the longest urban beaches in the world, enjoy the sea breeze and relax.\", \"geoCoordinates\": \"13.0585, 80.2710\"}, {\"day\": 1, \"time\": \"Afternoon (1:00 PM - 4:00 PM)\", \"location\": \"Kapaleeshwarar Temple\", \"details\": \"Visit the historic Kapaleeshwarar Temple, a prominent landmark with beautiful architecture.\", \"geoCoordinates\": \"13.0540, 80.2470\"}, {\"day\": 1, \"time\": \"Evening (5:00 PM - 8:00 PM)\", \"location\": \"Government Museum\", \"details\": \"Explore the Government Museum, showcasing artifacts and exhibits related to Tamil Nadu's history and culture.\", \"geoCoordinates\": \"13.0540, 80.2460\"}, {\"day\": 2, \"time\": \"Morning (9:00 AM - 12:00 PM)\", \"location\": \"Fort St. George\", \"details\": \"Visit Fort St. George, a historic fort built in 1640, now home to government offices.\", \"geoCoordinates\": \"13.0640, 80.2700\"}, {\"day\": 2, \"time\": \"Afternoon (1:00 PM - 4:00 PM)\", \"location\": \"San Thome Basilica\", \"details\": \"Visit San Thome Basilica, a 16th-century church built over the tomb of St. Thomas.\", \"geoCoordinates\": \"13.0630, 80.2680\"}, {\"day\": 2, \"time\": \"Evening (5:00 PM - 8:00 PM)\", \"location\": \"Anna Salai\", \"details\": \"Enjoy a stroll down Anna Salai, a bustling street with a variety of stores and restaurants.\", \"geoCoordinates\": \"13.0630, 80.2490\"}, {\"day\": 3, \"time\": \"Morning (9:00 AM - 12:00 PM)\", \"location\": \"Valluvar Kottam\", \"details\": \"Visit Valluvar Kottam, a monument dedicated to the Tamil poet and philosopher, Tiruvalluvar.\", \"geoCoordinates\": \"13.0680, 80.2510\"}, {\"day\": 3, \"time\": \"Afternoon (1:00 PM - 4:00 PM)\", \"location\": \"Ripon Building\", \"details\": \"Explore the Ripon Building, a historic government building with beautiful architecture.\", \"geoCoordinates\": \"13.0570, 80.2470\"}, {\"day\": 3, \"time\": \"Evening (5:00 PM - 8:00 PM)\", \"location\": \"Spencer Plaza\", \"details\": \"Spend your final evening shopping at Spencer Plaza, a shopping mall offering a range of brands and entertainment options.\", \"geoCoordinates\": \"13.0620, 80.2480\"}]}}"},
        {text: "input: Generate Travel Plan for Location: From Chennai To Hydrebade, for 3 Days. For Family of 1 people with moderate budget with Both Bus details, Bus Price and Flight details, Flight Price including Booking URL, Hotels option list with Hotel Name, Hotel address, Hotel Price, Geo Coordinates, rating ,descriptions and Places to visit nearby with placeName, Place Details, Geo Coordinates, ticket Pricing, cordinatTime to travel each of the location for 1 day and 1 night with each day plan with best time to visit and Geo Coordinates in JSON FORMAT(use @google map @google hotels @google flights and provide accurate info and well structured provide)"},
        {text: "output: {\"travelPlan\": {\"from\": \"Chennai\", \"to\": \"Hyderabad\", \"duration\": 3, \"travelers\": 1, \"budget\": \"moderate\", \"transportation\": [{\"mode\": \"Bus\", \"details\": \"Multiple bus operators offer routes from Chennai to Hyderabad. You can find options on platforms like RedBus.in, MakeMyTrip, and AbhiBus. The journey can take around 12-14 hours depending on the route and bus type.\", \"price\": \"INR 800-1200 per person (approx)\", \"bookingURL\": \"https://www.redbus.in/\"}, {\"mode\": \"Flight\", \"details\": \"Multiple airlines operate flights between Chennai (MAA) and Hyderabad (HYD). You can find flight options and prices on platforms like MakeMyTrip, Goibibo, and Skyscanner.\", \"price\": \"INR 3000-4000 per person (approx)\", \"bookingURL\": \"https://www.makemytrip.com/flights/\"}], \"hotels\": [{\"name\": \"The Golkonda Hotel\", \"address\": \"1-8-297/1, Road No 1, Banjara Hills, Hyderabad, Telangana 500034\", \"price\": \"INR 5000-7000 per night\", \"geoCoordinates\": \"17.4160, 78.4560\", \"rating\": \"4.0\", \"description\": \"A popular choice for its location in Banjara Hills, known for its shopping and dining options.\", \"placesNearby\": [{\"name\": \"Banjara Hills\", \"details\": \"A bustling area with upscale shopping malls, restaurants, and entertainment venues.\", \"geoCoordinates\": \"17.4180, 78.4580\", \"ticketPricing\": \"Free\", \"coordinateTime\": \"2-3 hours\"}, {\"name\": \"Golkonda Fort\", \"details\": \"A historic fort dating back to the 13th century, offering panoramic views of the city.\", \"geoCoordinates\": \"17.3650, 78.4740\", \"ticketPricing\": \"INR 50-100\", \"coordinateTime\": \"2-3 hours\"}]}, {\"name\": \"The Park Hyderabad\", \"address\": \"1, Road No 1, Banjara Hills, Hyderabad, Telangana 500034\", \"price\": \"INR 6000-8000 per night\", \"geoCoordinates\": \"17.4190, 78.4600\", \"rating\": \"4.5\", \"description\": \"A stylish hotel with a prime location and modern amenities.\", \"placesNearby\": [{\"name\": \"Jubilee Hills\", \"details\": \"An upscale area with parks, restaurants, and entertainment venues.\", \"geoCoordinates\": \"17.4250, 78.4650\", \"ticketPricing\": \"Free\", \"coordinateTime\": \"2-3 hours\"}, {\"name\": \"Hi-Tech City\", \"details\": \"A major IT hub with a vibrant nightlife and numerous restaurants.\", \"geoCoordinates\": \"17.4400, 78.4000\", \"ticketPricing\": \"Free\", \"coordinateTime\": \"2-3 hours\"}]}, {\"name\": \"Taj Falaknuma Palace\", \"address\": \"Falaknuma Palace, Hyderabad, Telangana 500001\", \"price\": \"INR 10000-15000 per night\", \"geoCoordinates\": \"17.3760, 78.4830\", \"rating\": \"4.0\", \"description\": \"A heritage hotel housed in a 19th-century palace, offering a luxurious experience.\", \"placesNearby\": [{\"name\": \"Charminar\", \"details\": \"An iconic mosque and monument built in 1591, offering panoramic views of the city.\", \"geoCoordinates\": \"17.3610, 78.4730\", \"ticketPricing\": \"Free\", \"coordinateTime\": \"1-2 hours\"}, {\"name\": \"Laad Bazaar\", \"details\": \"A bustling market known for its traditional jewellery and handicrafts.\", \"geoCoordinates\": \"17.3620, 78.4750\", \"ticketPricing\": \"Free\", \"coordinateTime\": \"2-3 hours\"}]}], \"dailyPlan\": [{\"day\": 1, \"time\": \"Morning (9:00 AM - 12:00 PM)\", \"location\": \"Charminar\", \"details\": \"Start your day by visiting the iconic Charminar, a historical mosque and monument offering panoramic views of the city.\", \"geoCoordinates\": \"17.3610, 78.4730\"}, {\"day\": 1, \"time\": \"Afternoon (1:00 PM - 4:00 PM)\", \"location\": \"Laad Bazaar\", \"details\": \"Explore the vibrant Laad Bazaar, known for its traditional jewellery, handicrafts, and local delicacies.\", \"geoCoordinates\": \"17.3620, 78.4750\"}, {\"day\": 1, \"time\": \"Evening (5:00 PM - 8:00 PM)\", \"location\": \"Birla Mandir\", \"details\": \"Visit the Birla Mandir, a beautiful white marble temple dedicated to Lord Venkateswara.\", \"geoCoordinates\": \"17.3890, 78.4700\"}, {\"day\": 2, \"time\": \"Morning (9:00 AM - 12:00 PM)\", \"location\": \"Golkonda Fort\", \"details\": \"Explore the historical Golkonda Fort, dating back to the 13th century, offering panoramic views of the city.\", \"geoCoordinates\": \"17.3650, 78.4740\"}, {\"day\": 2, \"time\": \"Afternoon (1:00 PM - 4:00 PM)\", \"location\": \"Qutb Shahi Tombs\", \"details\": \"Visit the Qutb Shahi Tombs, a complex of tombs of the Qutb Shahi dynasty rulers.\", \"geoCoordinates\": \"17.3780, 78.4680\"}, {\"day\": 2, \"time\": \"Evening (5:00 PM - 8:00 PM)\", \"location\": \"Salar Jung Museum\", \"details\": \"Explore the Salar Jung Museum, one of the largest museums in India, showcasing a vast collection of art and artifacts.\", \"geoCoordinates\": \"17.3660, 78.4800\"}, {\"day\": 3, \"time\": \"Morning (9:00 AM - 12:00 PM)\", \"location\": \"Hussain Sagar Lake\", \"details\": \"Enjoy a boat ride on Hussain Sagar Lake, a beautiful artificial lake in the heart of the city.\", \"geoCoordinates\": \"17.3700, 78.4660\"}, {\"day\": 3, \"time\": \"Afternoon (1:00 PM - 4:00 PM)\", \"location\": \"Birla Science Museum\", \"details\": \"Visit the Birla Science Museum, offering interactive exhibits and displays related to science and technology.\", \"geoCoordinates\": \"17.4070, 78.4550\"}, {\"day\": 3, \"time\": \"Evening (5:00 PM - 8:00 PM)\", \"location\": \"Banjara Hills\", \"details\": \"Spend your final evening exploring Banjara Hills, a bustling area with upscale shopping malls, restaurants, and entertainment venues.\", \"geoCoordinates\": \"17.4180, 78.4580\"}]}}"},
        {text: "input: Generate Travel Plan for Location: From Vijayawada To Tirupati, for 7 Days. For Family of 1 people with moderate budget with Both Bus details, Bus Price and Flight details, Flight Price including Booking URL, Hotels option list with Hotel Name, Hotel address, Hotel Price, Geo Coordinates, rating ,descriptions and Places to visit nearby with placeName, Place Details, Geo Coordinates, ticket Pricing, cordinatTime to travel each of the location for 1 day and 1 night with each day plan with best time to visit and Geo Coordinates in JSON FORMAT(use @google map @google hotels @google flights and provide accurate info and well structured provide)"},
        {text: "output: {\"travelPlan\": {\"from\": \"Vijayawada\", \"to\": \"Tirupati\", \"duration\": 7, \"travelers\": 1, \"budget\": \"moderate\", \"transportation\": [{\"mode\": \"Bus\", \"details\": \"Multiple bus operators offer routes from Vijayawada to Tirupati. You can find options on platforms like RedBus.in, MakeMyTrip, and AbhiBus. The journey can take around 4-5 hours depending on the route and bus type.\", \"price\": \"INR 300-500 per person (approx)\", \"bookingURL\": \"https://www.redbus.in/\"}, {\"mode\": \"Flight\", \"details\": \"While there are no direct flights between Vijayawada (VGA) and Tirupati (TIR), you can find connecting flights with a layover in Hyderabad (HYD) or Chennai (MAA). You can find flight options and prices on platforms like MakeMyTrip, Goibibo, and Skyscanner.\", \"price\": \"INR 3000-5000 per person (approx)\", \"bookingURL\": \"https://www.makemytrip.com/flights/\"}], \"hotels\": [{\"name\": \"The Leela Palace Tirupati\", \"address\": \"S.V.P. Rd, Tirupati, Andhra Pradesh 517501\", \"price\": \"INR 5000-7000 per night\", \"geoCoordinates\": \"13.6329, 79.4253\", \"rating\": \"4.5\", \"description\": \"A luxurious hotel with excellent amenities and service.\", \"placesNearby\": [{\"name\": \"Sri Venkateswara Temple\", \"details\": \"A prominent Hindu temple dedicated to Lord Venkateswara.\", \"geoCoordinates\": \"13.6343, 79.4192\", \"ticketPricing\": \"Free\", \"coordinateTime\": \"1-2 hours\"}, {\"name\": \"Tirupati Balaji Temple\", \"details\": \"Another significant temple dedicated to Lord Venkateswara.\", \"geoCoordinates\": \"13.6350, 79.4200\", \"ticketPricing\": \"Free\", \"coordinateTime\": \"1-2 hours\"}]}, {\"name\": \"Hotel Srinivas Grand\", \"address\": \"Near Railway Station, Tirupati, Andhra Pradesh 517501\", \"price\": \"INR 3000-5000 per night\", \"geoCoordinates\": \"13.6345, 79.4208\", \"rating\": \"4.0\", \"description\": \"A centrally located hotel with comfortable rooms and good amenities.\", \"placesNearby\": [{\"name\": \"Tirupati Railway Station\", \"details\": \"The main railway station in Tirupati.\", \"geoCoordinates\": \"13.6347, 79.4210\", \"ticketPricing\": \"Free\", \"coordinateTime\": \"1-2 hours\"}, {\"name\": \"Sri Padmavati Ammavari Temple\", \"details\": \"A temple dedicated to Goddess Padmavati.\", \"geoCoordinates\": \"13.6400, 79.4250\", \"ticketPricing\": \"Free\", \"coordinateTime\": \"1-2 hours\"}]}, {\"name\": \"Hotel Grand Residency\", \"address\": \"Beside Tirupati Bus Stand, Tirupati, Andhra Pradesh 517501\", \"price\": \"INR 2000-4000 per night\", \"geoCoordinates\": \"13.6352, 79.4215\", \"rating\": \"3.5\", \"description\": \"A budget-friendly option with basic amenities and a convenient location.\", \"placesNearby\": [{\"name\": \"Tirupati Bus Stand\", \"details\": \"The main bus station in Tirupati.\", \"geoCoordinates\": \"13.6354, 79.4218\", \"ticketPricing\": \"Free\", \"coordinateTime\": \"1-2 hours\"}, {\"name\": \"Alipiri\", \"details\": \"The starting point for the trek to the Sri Venkateswara Temple.\", \"geoCoordinates\": \"13.6290, 79.4200\", \"ticketPricing\": \"Free\", \"coordinateTime\": \"1-2 hours\"}]}], \"dailyPlan\": [{\"day\": 1, \"time\": \"Morning (9:00 AM - 12:00 PM)\", \"location\": \"Sri Venkateswara Temple\", \"details\": \"Visit the iconic Sri Venkateswara Temple, a major pilgrimage site for Hindus.\", \"geoCoordinates\": \"13.6343, 79.4192\"}, {\"day\": 1, \"time\": \"Afternoon (1:00 PM - 4:00 PM)\", \"location\": \"Tirupati Balaji Temple\", \"details\": \"Explore another significant temple dedicated to Lord Venkateswara, Tirupati Balaji Temple.\", \"geoCoordinates\": \"13.6350, 79.4200\"}, {\"day\": 1, \"time\": \"Evening (5:00 PM - 8:00 PM)\", \"location\": \"Sri Padmavati Ammavari Temple\", \"details\": \"Visit the temple dedicated to Goddess Padmavati, located in the heart of Tirupati.\", \"geoCoordinates\": \"13.6400, 79.4250\"}, {\"day\": 2, \"time\": \"Morning (9:00 AM - 12:00 PM)\", \"location\": \"Alipiri\", \"details\": \"Embark on a trek to the Sri Venkateswara Temple via Alipiri, a scenic route with breathtaking views.\", \"geoCoordinates\": \"13.6290, 79.4200\"}, {\"day\": 2, \"time\": \"Afternoon (1:00 PM - 4:00 PM)\", \"location\": \"Seven Hills\", \"details\": \"Explore the Seven Hills, the location of the Sri Venkateswara Temple, and enjoy the scenic surroundings.\", \"geoCoordinates\": \"13.6300, 79.4200\"}, {\"day\": 2, \"time\": \"Evening (5:00 PM - 8:00 PM)\", \"location\": \"Silathoranam\", \"details\": \"Visit Silathoranam, a natural rock formation resembling a gateway, near the Sri Venkateswara Temple.\", \"geoCoordinates\": \"13.6330, 79.4180\"}, {\"day\": 3, \"time\": \"Morning (9:00 AM - 12:00 PM)\", \"location\": \"Kapila Theertham\", \"details\": \"Visit Kapila Theertham, a holy pond with a sacred significance.\", \"geoCoordinates\": \"13.6280, 79.4220\"}, {\"day\": 3, \"time\": \"Afternoon (1:00 PM - 4:00 PM)\", \"location\": \"Papavinasanam\", \"details\": \"Explore Papavinasanam, a waterfall believed to purify sins, located near the Sri Venkateswara Temple.\", \"geoCoordinates\": \"13.6310, 79.4170\"}, {\"day\": 3, \"time\": \"Evening (5:00 PM - 8:00 PM)\", \"location\": \"Sri Govindaraja Swamy Temple\", \"details\": \"Visit the Sri Govindaraja Swamy Temple, a popular temple dedicated to Lord Vishnu.\", \"geoCoordinates\": \"13.6360, 79.4230\"}, {\"day\": 4, \"time\": \"Morning (9:00 AM - 12:00 PM)\", \"location\": \"Tiruchanur\", \"details\": \"Visit Tiruchanur, a town near Tirupati, famous for the Padmavati Ammavari Temple.\", \"geoCoordinates\": \"13.6450, 79.4300\"}, {\"day\": 4, \"time\": \"Afternoon (1:00 PM - 4:00 PM)\", \"location\": \"Sri Kalahasti Temple\", \"details\": \"Explore the Sri Kalahasti Temple, known for its architectural splendor and spiritual significance.\", \"geoCoordinates\": \"13.5800, 79.6800\"}, {\"day\": 4, \"time\": \"Evening (5:00 PM - 8:00 PM)\", \"location\": \"Sri Chandrasekhara Swamy Temple\", \"details\": \"Visit the Sri Chandrasekhara Swamy Temple, a temple dedicated to Lord Shiva, located in Tirupati.\", \"geoCoordinates\": \"13.6370, 79.4240\"}, {\"day\": 5, \"time\": \"Morning (9:00 AM - 12:00 PM)\", \"location\": \"Sri Venkateswara Zoological Park\", \"details\": \"Enjoy a day at the Sri Venkateswara Zoological Park, home to a variety of animals and birds.\", \"geoCoordinates\": \"13.6380, 79.4300\"}, {\"day\": 5, \"time\": \"Afternoon (1:00 PM - 4:00 PM)\", \"location\": \"Sri Venkateswara Museum\", \"details\": \"Explore the Sri Venkateswara Museum, showcasing artifacts and exhibits related to the history and culture of the Sri Venkateswara Temple.\", \"geoCoordinates\": \"13.6350, 79.4200\"}, {\"day\": 5, \"time\": \"Evening (5:00 PM - 8:00 PM)\", \"location\": \"Tirupati Ropeway\", \"details\": \"Take a ride on the Tirupati Ropeway, offering panoramic views of the Seven Hills and the Sri Venkateswara Temple.\", \"geoCoordinates\": \"13.6330, 79.4180\"}, {\"day\": 6, \"time\": \"Morning (9:00 AM - 12:00 PM)\", \"location\": \"Sri Varahaswamy Temple\", \"details\": \"Visit the Sri Varahaswamy Temple, a historic temple dedicated to Lord Vishnu, located in Tirupati.\", \"geoCoordinates\": \"13.6390, 79.4250\"}, {\"day\": 6, \"time\": \"Afternoon (1:00 PM - 4:00 PM)\", \"location\": \"Sri Kalyana Venkateswara Temple\", \"details\": \"Explore the Sri Kalyana Venkateswara Temple, a temple dedicated to Lord Venkateswara, located in Tirupati.\", \"geoCoordinates\": \"13.6400, 79.4300\"}, {\"day\": 6, \"time\": \"Evening (5:00 PM - 8:00 PM)\", \"location\": \"Talakona Waterfall\", \"details\": \"Visit the Talakona Waterfall, a scenic waterfall located in the Seshachalam Hills.\", \"geoCoordinates\": \"13.6800, 79.4500\"}, {\"day\": 7, \"time\": \"Morning (9:00 AM - 12:00 PM)\", \"location\": \"Sri Venkateswara National Park\", \"details\": \"Enjoy a day at the Sri Venkateswara National Park, a wildlife sanctuary home to a variety of animals and birds.\", \"geoCoordinates\": \"13.6500, 79.4400\"}, {\"day\": 7, \"time\": \"Afternoon (1:00 PM - 4:00 PM)\", \"location\": \"S.V. University\", \"details\": \"Visit S.V. University, a renowned university in Tirupati.\", \"geoCoordinates\": \"13.6300, 79.4280\"}, {\"day\": 7, \"time\": \"Evening (5:00 PM - 8:00 PM)\", \"location\": \"Tirupati Airport\", \"details\": \"Head to the Tirupati Airport for your departure.\", \"geoCoordinates\": \"13.6500, 79.4400\"}]}}"},
        {text: `input: ${prompt}`}
    ];

    const result = await model.generateContent({
        contents: [{ role: "user", parts }],
        generationConfig,
    })
    return JSON.parse(result.response.text());
}









